{% extends "dashboard_layout.html" %}

{% block title %}Edit Faculty - AutoScheduler{% endblock %}

{% block dashboard_content %}
<div style="display: flex; justify-content: center;">
    <div class="glass-card animate-fade-in" style="width: 100%; max-width: 600px;">
        <h2 style="text-align: center; margin-bottom: 2rem; color: var(--primary-color);">Edit Faculty</h2>
        <form action="/admin/edit_teacher/{{ teacher._id }}" method="POST">
            <div style="margin-bottom: 1rem;">
                <label>Name</label>
                <input type="text" name="name" value="{{ teacher.name }}" required>
            </div>
            <div style="margin-bottom: 1rem;">
                <label>Email</label>
                <input type="email" name="email" value="{{ teacher.email }}" required>
            </div>
            <div style="margin-bottom: 1rem;">
                <label>ID Number</label>
                <input type="text" name="id_number" value="{{ teacher.id_number }}" required>
            </div>
            <div style="margin-bottom: 2rem;">
                <label>New Password (leave blank to keep current)</label>
                <input type="password" name="password" placeholder="New Password">
            </div>

            <div style="margin-bottom: 1rem;">
                <label>Qualified Courses</label>
                <div
                    style="height: 150px; overflow-y: auto; border: 2px solid #e0e0e0; padding: 10px; border-radius: 6px; background: white;">
                    {% for course in courses %}
                    <div style="display: flex; align-items: center; margin-bottom: 5px;">
                        <input type="checkbox" name="course_ids" value="{{ course._id }}" id="course_{{ course._id }}"
                            style="width: auto; margin-right: 10px;" {% if teacher.qualified_courses and
                            course._id|string in teacher.qualified_courses %}checked{% endif %}>
                        <label for="course_{{ course._id }}" style="font-size: 0.9rem; cursor: pointer;">{{ course.code
                            }} -
                            {{ course.name }}</label>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <div style="margin-bottom: 2rem;">
                <label>Qualified Labs</label>
                <div
                    style="height: 150px; overflow-y: auto; border: 2px solid #e0e0e0; padding: 10px; border-radius: 6px; background: white;">
                    {% for lab in labs %}
                    <div style="display: flex; align-items: center; margin-bottom: 5px;">
                        <input type="checkbox" name="lab_ids" value="{{ lab._id }}" id="lab_{{ lab._id }}"
                            style="width: auto; margin-right: 10px;" {% if teacher.qualified_labs and lab._id|string in
                            teacher.qualified_labs %}checked{% endif %}>
                        <label for="lab_{{ lab._id }}" style="font-size: 0.9rem; cursor: pointer;">{{ lab.code }} - {{
                            lab.name }}</label>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <button type="submit" class="btn btn-primary" style="width: 100%;">Update Faculty</button>
            <a href="{{ url_for('admin_dashboard') }}" class="btn btn-outline"
                style="width: 100%; margin-top: 10px; text-align: center;">Cancel</a>
        </form>
    </div>
</div>
{% endblock %}